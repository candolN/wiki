/* ============================================================
   CANDOLN WIKI MASTER CSS (CLEAN FIXED VERSION)
   ============================================================ */

/* ------------------------------------------------------------
   PART 1: è®Šæ•¸èˆ‡åŸºç¤è¨­å®š (Base Setup)
   ------------------------------------------------------------ */
body {
    /* å®šç¾©ç´…è‰²è®Šæ•¸ */
    --ugo-red-rgb: 214, 40, 40; /* ç«ç£šç´… #D62828 */
    --ugo-red: rgb(var(--ugo-red-rgb));
    --ugo-bg: #ffffff;
    --ugo-dot: #d0d0d0;
    --ugo-black: #111111;
    --ugo-shadow: 4px 4px 0px;
    
    /* æ ¸å½ˆä¿®æ­£ï¼šç›´æ¥è¦†è“‹ Obsidian åº•å±¤çš„é«˜äº®è®Šæ•¸ */
    --text-highlight-bg: rgba(var(--ugo-red-rgb), 0.3) !important;

   
    /* å…¨å±€å­—é«”é¡è‰² */
    --text-normal: var(--ugo-black) !important;
}

/* ------------------------------------------------------------
   PART 2: åŸºç¤å…ƒä»¶ (Images, Bold, Highlights)
   ------------------------------------------------------------ */
/* åœ–ç‰‡åƒç´ åŒ– & é‚Šæ¡† */
img {
    image-rendering: pixelated;
    border: 2px solid var(--ugo-black);
    box-shadow: 4px 4px 0px rgba(0,0,0,0.2);
    display: block;
    margin: 10px auto;
}

/* é«˜äº®ç­†ä¿®æ­£ (æ®ºæ­»è¢å…‰é»ƒ) */
html body mark, 
html body .cm-highlight,
html body .markdown-rendered mark {
    background-color: rgba(var(--ugo-red-rgb), 0.3) !important;
    color: var(--ugo-red) !important;
    border-radius: 0px !important;
    padding: 0 2px !important;
    box-shadow: none !important;
}

/* ç²—é«”å­—è®Šç´… */
strong, b {
    color: var(--ugo-red) !important;
}



/* ------------------------------------------------------------
   PART 3: Callout æ¡†æ¡† (Ugomeemo Style)
   ------------------------------------------------------------ */
html body .callout,
html body .callout[data-callout="info"] {
    background-color: #fff !important;
    border: 2px solid var(--ugo-black) !important;
    border-left: 6px solid var(--ugo-red) !important;
    border-radius: 0 !important;
    box-shadow: var(--ugo-shadow) var(--ugo-black) !important;
    --callout-color: var(--ugo-red-rgb) !important;
    --callout-icon: var(--ugo-red-rgb) !important;
}

/* å¼·åˆ¶ Icon èˆ‡æ¨™é¡Œè®Šè‰² */
html body .callout .callout-icon,
html body .callout[data-callout="info"] .callout-icon {
    color: var(--ugo-red) !important;
    stroke: var(--ugo-red) !important;
    fill: var(--ugo-red) !important;
}

html body .callout .callout-title {
    color: var(--ugo-red) !important;
    font-weight: bold !important;
}

.callout:hover {
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px var(--ugo-black) !important;
    transition: all 0.1s step-end;
}

/* ------------------------------------------------------------
   PART 4: ç‰¹æ•ˆå‹•ç•« (Animations)
   ------------------------------------------------------------ */
/* 4.1 ç˜‹ç‹‚æŠ–å‹• (Shake Crazy) */
@keyframes shake-crazy {
    0% { transform: translate(2px, 1px) rotate(0deg); }
    10% { transform: translate(-1px, -2px) rotate(-1deg); }
    20% { transform: translate(-3px, 0px) rotate(1deg); }
    30% { transform: translate(0px, 2px) rotate(0deg); }
    40% { transform: translate(1px, -1px) rotate(1deg); }
    50% { transform: translate(-1px, 2px) rotate(-1deg); }
    60% { transform: translate(-3px, 1px) rotate(0deg); }
    70% { transform: translate(2px, 1px) rotate(-1deg); }
    80% { transform: translate(-1px, -1px) rotate(1deg); }
    90% { transform: translate(2px, 2px) rotate(0deg); }
    100% { transform: translate(1px, -2px) rotate(-1deg); }
}

.shake-crazy {
    display: inline-block;
    animation: shake-crazy 0.5s infinite;
}

/* 4.2 ç´…å…‰å‘¼å¸ (Red Breath) */
@keyframes breath-red-glow {
    0% { transform: scale(1); text-shadow: 0 0 2px rgba(214, 40, 40, 0.3); }
    50% { transform: scale(1.05); text-shadow: 0 0 15px rgba(214, 40, 40, 0.9), 0 0 5px rgba(214, 40, 40, 0.6); }
    100% { transform: scale(1); text-shadow: 0 0 2px rgba(214, 40, 40, 0.3); }
}

.breathing-red {
    display: inline-block;
    animation: breath-red-glow 3s infinite ease-in-out;
    color: #fff;
}

/* 4.3 æ…¢é€Ÿæµ®ç¾ (Slow Appear) */
@keyframes appear-slow-anim {
    from { opacity: 0; }
    to { opacity: 1; }
}

.appear-slow {
    animation: appear-slow-anim 5s ease-in-out forwards;
}

/* ============================================================
   PART 5: çµ‚æ¥µè¡¨æ ¼ä¿®å¾© (GLOBAL TABLE & BUTTON FIX)
   ============================================================ */

/* 1. å¼·åˆ¶æ‰€æœ‰è¡¨æ ¼å¤–æ¡†èˆ‡èƒŒæ™¯ */
table {
    margin: 20px auto !important;
    width: 100% !important;
    border-collapse: collapse !important;
    border: 2px solid var(--ugo-black) !important;
    background-color: white !important;
}

/* 2. å¼·åˆ¶æ‰€æœ‰æ ¼å­å…§å®¹ç½®ä¸­ (åŒ…å« Landing Page å’Œæ™®é€šé é¢) */
th, td, .landing-page td {
    border: 2px solid var(--ugo-black) !important;
    padding: 15px !important;
    vertical-align: middle !important; /* å‚ç›´ç½®ä¸­ */
    text-align: center !important;     /* æ°´å¹³ç½®ä¸­ (é€™è¡Œæœ€é‡è¦) */
}

/* 3. è¡¨é ­å°ˆå±¬æ¨£å¼ */
th {
    background-color: var(--ugo-black) !important;
    color: #ffffff !important;
}

/* 4. å¼·åˆ¶ä¿®å¾©é€£çµæŒ‰éˆ• (ç½®ä¸­ + é»‘æ¡†) */
/* æˆ‘å€‘ç”¨éå¸¸å…·é«”çš„é¸æ“‡å™¨ä¾†ç¢ºä¿è¦†è“‹ */
table td a,
.landing-page td a,
a.internal-link {
    display: inline-block !important;
    margin: 4px auto !important;      /* ä¸Šä¸‹ç•™ç™½ï¼Œå·¦å³è‡ªå‹•ç½®ä¸­ */
    padding: 5px 10px !important;
    background-color: #fff !important;
    border: 2px solid var(--ugo-black) !important;
    color: var(--ugo-black) !important;
    text-decoration: none !important;
    font-weight: bold !important;
    box-shadow: 2px 2px 0px rgba(0,0,0,0.1) !important;
    transition: all 0.1s !important;
}

/* æŒ‰éˆ•æ»‘é¼ äº’å‹• */
table td a:hover,
.landing-page td a:hover {
    background-color: var(--ugo-red) !important;
    color: white !important;
    transform: translate(2px, 2px) !important;
    box-shadow: 1px 1px 0px black !important;
}

/* 5. å¼·åˆ¶åœ–ç‰‡å¤§å°èˆ‡ç½®ä¸­ */
td img {
    display: block !important;
    margin: 0 auto !important;
    width: 50px !important;  /* å¼·åˆ¶çµ±ä¸€å¤§å°ï¼Œè§£æ±º !50 å¤±æ•ˆå•é¡Œ */
    height: auto !important;
}

/* ============================================================
   PART 6: æ¨™é¡Œèˆ‡ UI Icon ç‰¹åˆ¥ä¿®æ­£ (Header Icon Fix) - V2ä¿®æ­£ç‰ˆ
   ============================================================ */

/* é‡å° H1 ~ H6 æ¨™é¡Œå…§éƒ¨çš„æ‰€æœ‰åœ–ç‰‡é€²è¡Œæ¨£å¼é‡ç½® */
h1 img, h2 img, h3 img, h4 img, h5 img, h6 img {
    display: inline-block !important;  /* ä¿æŒèˆ‡æ–‡å­—åŒè¡Œ */
    vertical-align: bottom !important; /* åº•éƒ¨å°é½Šï¼Œé€šå¸¸æ¯” middle çœ‹èµ·ä¾†æ›´ç©© */
    
    /* --- é—œéµä¿®æ­£ --- */
    /* å¼·åˆ¶é™åˆ¶åœ–ç‰‡é«˜åº¦ï¼Œè®“å®ƒæ°¸é ä¸æœƒè¶…éæ¨™é¡Œæ–‡å­—å¤ªå¤š */
    /* 1.5em ä»£è¡¨ã€Œç•¶ä¸‹å­—é«”å¤§å°çš„ 1.5 å€ã€ï¼Œé€™é€šå¸¸æ˜¯ icon æœ€èˆ’æœçš„å¤§å° */
    height: 1.5em !important;          
    width: auto !important;            /* å¯¬åº¦è‡ªå‹•è¨ˆç®—ï¼Œä¿æŒåœ–ç‰‡æ¯”ä¾‹ä¸è®Šå½¢ */
    /* ---------------- */

    /* ç§»é™¤å…¨åŸŸåœ–ç‰‡æ¨£å¼èˆ‡é™°å½± */
    border: none !important;
    box-shadow: none !important;
    background: transparent !important;
    
    /* èª¿æ•´é–“è· */
    margin: 0 10px 0 0 !important;     /* åœ–ç‰‡å³é‚Šç•™é»ç©ºéš™ */
}

/* é‡å°æŸäº›ç”Ÿæˆå™¨æŠŠåœ–ç‰‡åŒ…åœ¨ span çš„ä¿®æ­£ */
h1 span.image-embed, h2 span.image-embed {
    display: inline-block !important;
    height: auto !important;           /* å®¹å™¨é«˜åº¦è‡ªå‹• */
}

/* ==============================================
   PART 7: LOCKED CONTENT (æœªé–‹æ”¾å…§å®¹é–å®š)
   ============================================== */

/* è¢«æ¨™è¨˜ç‚º .locked çš„é€£çµ */
a.internal-link.locked,
.locked a {
    pointer-events: none; /* ç¦æ­¢é»æ“Š */
    cursor: not-allowed;  /* æ»‘é¼ è®Šæˆç¦æ­¢ç¬¦è™Ÿ */
    opacity: 0.5;         /* è®ŠåŠé€æ˜ */
    position: relative;
    text-decoration: line-through !important; /* åˆªé™¤ç·š */
}

/* åŠ ä¸Šä¸€å€‹å°é–é ­åœ–ç¤º */
a.internal-link.locked::after,
.locked a::after {
    content: " ğŸ”’";
    font-size: 0.8em;
}
/* ============================================================
   PART 8 (FINAL): åœ–ç‰‡èˆ‡ Icon åˆ†å€æ²»ç†ç³»çµ± (The Unified Fix)
   èªªæ˜ï¼šæ•´åˆæ‰€æœ‰ icon- èˆ‡ clean- è¦å‰‡ï¼Œé˜²æ­¢æ¨£å¼æ‰“æ¶
   ============================================================ */

/* ------------------------------------------------------------
   1. é è¨­è¦å‰‡ï¼šå…§æ–‡æ®µè½ä¸­çš„ DOL é¢¨æ ¼å¤§åœ–ç¤º
   (é€™æœƒæ‡‰ç”¨åœ¨æ‰€æœ‰æ²’æœ‰è¢«ç‰¹åˆ¥æŒ‡å®šçš„åœ°æ–¹)
   ------------------------------------------------------------ */
img[src*="icon-"] {
    display: inline-block !important;
    vertical-align: middle !important; /* å‚ç›´ç½®ä¸­ï¼Œå°é½Šæ–‡å­—è…°éƒ¨ */
    border: none !important;           /* å»æ¡† */
    box-shadow: none !important;       /* å»é™°å½± */
    background: transparent !important;
    
    /* é€™è£¡ç¶­æŒä½ è¦çš„ã€Œå¤§é¡†ã€é¢¨æ ¼ */
    height: 2.2em !important;          
    width: auto !important;
    margin: 0 5px !important;
    min-width: unset !important;
}

/* ------------------------------------------------------------
   2. æ¨™é¡Œè¦å‰‡ï¼šæ¨™é¡Œæ—é‚Šçš„å°åœ–ç¤º (Header Icons)
   (æ¬Šé‡é«˜æ–¼ä¸Šæ–¹ï¼Œå¼·åˆ¶ç¸®å°ä»¥é…åˆæ¨™é¡Œ)
   ------------------------------------------------------------ */
h1 img[src*="icon-"], h2 img[src*="icon-"], 
h3 img[src*="icon-"], h4 img[src*="icon-"], 
h5 img[src*="icon-"], h6 img[src*="icon-"] {
    height: 1.5em !important;          /* æ¨™é¡Œè£¡è¦å°ä¸€é» */
    width: auto !important;
    vertical-align: bottom !important; /* åº•éƒ¨å°é½Šæ¯”è¼ƒå¥½çœ‹ */
    margin: 0 10px 0 0 !important;
}

/* ------------------------------------------------------------
   3. è¡¨æ ¼è¦å‰‡ï¼šè¡¨æ ¼å…§çš„åœ–ç¤º (Table Icons) - æ•‘å‘½ä¿®æ­£ï¼
   (æ¬Šé‡æœ€é«˜ï¼Œå¼·åˆ¶æŠŠåœ–ç‰‡å£“å› 50pxï¼Œæ¢å¾©è¡¨æ ¼ç¾åŒ–)
   ------------------------------------------------------------ */
table td img[src*="icon-"],
.landing-page td img[src*="icon-"] {
    /* é€™è£¡ä¸å†çœ‹é«˜åº¦ï¼Œè€Œæ˜¯çœ‹å¯¬åº¦ï¼Œç¢ºä¿è¡¨æ ¼æ•´é½Š */
    width: 50px !important;            
    height: auto !important;           /* é«˜åº¦è‡ªå‹•ï¼Œä¿æŒæ¯”ä¾‹ */
    
    display: block !important;         /* å¡Šç´šé¡¯ç¤ºï¼Œæ–¹ä¾¿ç½®ä¸­ */
    margin: 0 auto !important;         /* å¼·åˆ¶æ°´å¹³ç½®ä¸­ */
    vertical-align: middle !important;
    
    /* ç¢ºä¿æ²’æœ‰æ®˜ç•™çš„é‚Šæ¡† */
    border: none !important;
    box-shadow: none !important;
}

/* ------------------------------------------------------------
   4. ç‰¹æ®Šè¦å‰‡ï¼šClean æ¨¡å¼ (ç´”æ·¨åŸåœ–)
   (ç”¨æ–¼é‚£äº›ä¸æƒ³æœ‰é»‘æ¡†ï¼Œä½†ä¹Ÿä¸æƒ³è®Šæ›´å¤§å°çš„åœ–ç‰‡/GIF)
   ------------------------------------------------------------ */
img[src*="clean-"] {
    border: none !important;
    box-shadow: none !important;
    background: transparent !important;
    /* ä¸å¼·åˆ¶è¨­å®šå¤§å°ï¼Œç”± Markdown èªæ³•æˆ–åŸåœ–æ±ºå®š */
}

/* ------------------------------------------------------------
   5. GIF ä¿è­·ç¶² (ä¿®å¾©æ‰‹æ©Ÿç‰ˆ GIF ä¸å‹•çš„å•é¡Œ)
   ------------------------------------------------------------ */
img[src$=".gif"] {
    border: none !important;
    box-shadow: none !important;
    
    /* é—œéµä¿®æ­£ï¼šæ‰‹æ©Ÿé€šå¸¸è¨å­å° GIF åšåƒç´ åŒ–é‹ç®—ï¼Œæ”¹å› auto å°±æœƒå‹•äº† */
    image-rendering: auto !important; 
    
    /* é»‘é­”æ³•ï¼šå¼·åˆ¶é–‹å•Ÿç¡¬é«”åŠ é€Ÿï¼Œæœ‰åŠ©æ–¼æ‰‹æ©Ÿæµæš¢æ’­æ”¾ GIF */
    transform: translateZ(0);
    will-change: transform; 
}
