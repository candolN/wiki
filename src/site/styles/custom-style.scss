/* ============================================================
   CANDOLN WIKI MASTER CSS (MOBILE FIXED VERSION V6)
   ============================================================ */

/* ------------------------------------------------------------
   PART 1: è®Šæ•¸èˆ‡åŸºç¤è¨­å®š
   ------------------------------------------------------------ */
body {
    --ugo-red-rgb: 214, 40, 40;
    --ugo-red: rgb(var(--ugo-red-rgb));
    --ugo-bg: #ffffff;
    --ugo-dot: #d0d0d0;
    --ugo-black: #111111;
    --ugo-shadow: 4px 4px 0px;
    --text-highlight-bg: rgba(var(--ugo-red-rgb), 0.3) !important;
    --text-normal: var(--ugo-black) !important;
}

/* ------------------------------------------------------------
   PART 2: åŸºç¤å…ƒä»¶ (Images)
   ------------------------------------------------------------ */
/* 1. å…¨å±€åœ–ç‰‡é è¨­ (Safe Mode) */
img {
    image-rendering: auto; /* é è¨­å¹³æ»‘ */
    border: 2px solid var(--ugo-black);
    box-shadow: 4px 4px 0px rgba(0,0,0,0.2);
    
    /* ğŸ”´ é—œéµä¿®æ­£ï¼šæ”¹å› inline-blockï¼Œé¿å…æ‰‹æ©Ÿèª¤åˆ¤ */
    display: inline-block; 
    max-width: 100%;
    height: auto;
    
    /* ä¿æŒç½®ä¸­æ•ˆæœçš„æ›¿ä»£æ–¹æ¡ˆ */
    margin: 10px 0; 
}

/* ç‚ºäº†è®“ inline-block çš„åœ–ç‰‡ä¹Ÿèƒ½ç½®ä¸­ï¼Œæˆ‘å€‘éœ€è¦å°åœ–ç‰‡çš„çˆ¶å±¤å‹•æ‰‹è…³ */
/* å¦‚æœæ˜¯åœ¨æ®µè½ä¸­çš„åœ–ç‰‡ï¼Œé€™è¡Œèƒ½ç¢ºä¿å®ƒç½®ä¸­ */
p:has(> img) {
    text-align: center;
}

/* 2. æŒ‡å®šåƒç´ åŒ–ï¼šåªé‡å° PNG (DOL é¢¨æ ¼) */
img[src*=".png"], img[src*=".PNG"] {
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    /* PNG å¯ä»¥ä¿æŒ block å±¬æ€§æ²’é—œä¿‚ï¼Œå› ç‚ºå®ƒä¸æœƒå‹• */
    display: block; 
    margin: 10px auto; 
}

/* ------------------------------------------------------------
   PART 2.5: æ–‡å­—æ¨£å¼
   ------------------------------------------------------------ */
html body mark, 
html body .cm-highlight,
html body .markdown-rendered mark {
    background-color: rgba(var(--ugo-red-rgb), 0.3) !important;
    color: var(--ugo-red) !important;
    border-radius: 0px !important;
    padding: 0 2px !important;
    box-shadow: none !important;
}

strong, b {
    color: var(--ugo-red) !important;
}

/* ------------------------------------------------------------
   PART 3: Callout æ¡†æ¡†
   ------------------------------------------------------------ */
html body .callout,
html body .callout[data-callout="info"] {
    background-color: #fff !important;
    border: 2px solid var(--ugo-black) !important;
    border-left: 6px solid var(--ugo-red) !important;
    border-radius: 0 !important;
    box-shadow: var(--ugo-shadow) var(--ugo-black) !important;
    --callout-color: var(--ugo-red-rgb) !important;
    --callout-icon: var(--ugo-red-rgb) !important;
}

html body .callout .callout-icon,
html body .callout[data-callout="info"] .callout-icon {
    color: var(--ugo-red) !important;
    stroke: var(--ugo-red) !important;
    fill: var(--ugo-red) !important;
}

html body .callout .callout-title {
    color: var(--ugo-red) !important;
    font-weight: bold !important;
}

.callout:hover {
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px var(--ugo-black) !important;
    transition: all 0.1s step-end;
}

/* ------------------------------------------------------------
   PART 4: ç‰¹æ•ˆå‹•ç•«
   ------------------------------------------------------------ */
@keyframes shake-crazy {
    0% { transform: translate(2px, 1px) rotate(0deg); }
    10% { transform: translate(-1px, -2px) rotate(-1deg); }
    20% { transform: translate(-3px, 0px) rotate(1deg); }
    30% { transform: translate(0px, 2px) rotate(0deg); }
    40% { transform: translate(1px, -1px) rotate(1deg); }
    50% { transform: translate(-1px, 2px) rotate(-1deg); }
    60% { transform: translate(-3px, 1px) rotate(0deg); }
    70% { transform: translate(2px, 1px) rotate(-1deg); }
    80% { transform: translate(-1px, -1px) rotate(1deg); }
    90% { transform: translate(2px, 2px) rotate(0deg); }
    100% { transform: translate(1px, -2px) rotate(-1deg); }
}

.shake-crazy {
    display: inline-block;
    animation: shake-crazy 0.5s infinite;
}

@keyframes breath-red-glow {
    0% { transform: scale(1); text-shadow: 0 0 2px rgba(214, 40, 40, 0.3); }
    50% { transform: scale(1.05); text-shadow: 0 0 15px rgba(214, 40, 40, 0.9), 0 0 5px rgba(214, 40, 40, 0.6); }
    100% { transform: scale(1); text-shadow: 0 0 2px rgba(214, 40, 40, 0.3); }
}

.breathing-red {
    display: inline-block;
    animation: breath-red-glow 3s infinite ease-in-out;
    color: #fff;
}

@keyframes appear-slow-anim {
    from { opacity: 0; }
    to { opacity: 1; }
}

.appear-slow {
    animation: appear-slow-anim 5s ease-in-out forwards;
}

/* ------------------------------------------------------------
   PART 5: è¡¨æ ¼ä¿®å¾©
   ------------------------------------------------------------ */
table {
    margin: 20px auto !important;
    width: 100% !important;
    border-collapse: collapse !important;
    border: 2px solid var(--ugo-black) !important;
    background-color: white !important;
}

th, td, .landing-page td {
    border: 2px solid var(--ugo-black) !important;
    padding: 15px !important;
    vertical-align: middle !important;
    text-align: center !important;
}

th {
    background-color: var(--ugo-black) !important;
    color: #ffffff !important;
}

table td a,
.landing-page td a,
a.internal-link {
    display: inline-block !important;
    margin: 4px auto !important;
    padding: 5px 10px !important;
    background-color: #fff !important;
    border: 2px solid var(--ugo-black) !important;
    color: var(--ugo-black) !important;
    text-decoration: none !important;
    font-weight: bold !important;
    box-shadow: 2px 2px 0px rgba(0,0,0,0.1) !important;
    transition: all 0.1s !important;
}

table td a:hover,
.landing-page td a:hover {
    background-color: var(--ugo-red) !important;
    color: white !important;
    transform: translate(2px, 2px) !important;
    box-shadow: 1px 1px 0px black !important;
}

td img {
    display: block !important;
    margin: 0 auto !important;
    width: 50px !important;
    height: auto !important;
}

/* ------------------------------------------------------------
   PART 6: æ¨™é¡Œèˆ‡ UI Icon
   ------------------------------------------------------------ */
h1 img, h2 img, h3 img, h4 img, h5 img, h6 img {
    display: inline-block !important;
    vertical-align: bottom !important;
    height: 1.5em !important;
    width: auto !important;
    border: none !important;
    box-shadow: none !important;
    background: transparent !important;
    margin: 0 10px 0 0 !important;
}

h1 span.image-embed, h2 span.image-embed {
    display: inline-block !important;
    height: auto !important;
}

/* ------------------------------------------------------------
   PART 7: LOCKED CONTENT
   ------------------------------------------------------------ */
a.internal-link.locked,
.locked a {
    pointer-events: none;
    cursor: not-allowed;
    opacity: 0.5;
    position: relative;
    text-decoration: line-through !important;
}

a.internal-link.locked::after,
.locked a::after {
    content: " ğŸ”’";
    font-size: 0.8em;
}

/* ------------------------------------------------------------
   PART 8: éµè…•ä¿®å¾©ç‰ˆ (å·²ä¿®å¾©èªæ³•éŒ¯èª¤)
   ------------------------------------------------------------ */

/* è¡¨æ ¼å…§ Icon */
html body table td img[src*="icon-"],
html body .landing-page td img[src*="icon-"] {
    width: 50px !important;
    max-width: 50px !important;
    min-width: 0 !important;
    height: auto !important;
    display: block !important;
    margin: 0 auto !important;
    border: none !important;
    background: transparent !important;
    box-shadow: none !important;
    image-rendering: auto !important; 
}

/* å…§æ–‡ Icon */
html body img[src*="icon-"] {
    display: inline-block !important;
    vertical-align: middle !important; 
    height: 1.8em !important; 
    width: auto !important;
    margin: 0 5px !important;
    border: none !important;
    box-shadow: none !important;
    background: transparent !important;
}

/* Clean æ¨¡å¼ */
img[src*="clean-"] {
    border: none !important;
    box-shadow: none !important;
    background: transparent !important;
    image-rendering: auto !important; 
}

/* ğŸ”¥ 4. GIF æœ€çµ‚æ•‘å‘½å€ ğŸ”¥
   åŒ…å«å¤§å°å¯«æ”¯æ´ (.gif / .GIF) èˆ‡ Display ä¿®æ­£
*/
img[src*=".gif"], img[src*=".GIF"] {
    /* å¼·åˆ¶å»æ¡† */
    border: none !important;
    box-shadow: none !important;
    background: transparent !important;

    /* ğŸ”´ é—œéµä¿®æ­£ï¼šå¼·åˆ¶ä½¿ç”¨ inline-block */
    /* å¾ˆå¤šæ‰‹æ©Ÿæœƒæš«åœ display:block çš„ GIF */
    display: inline-block !important;
    
    /* æ¸²æŸ“æ¨¡å¼ */
    image-rendering: auto !important;
    
    /* ç¢ºä¿å¯è¦‹æ€§ */
    opacity: 1 !important;
    visibility: visible !important;
    
    /* ç§»é™¤éå¤šçš„ GPU hackï¼Œæœ‰æ™‚å€™åè€Œæ˜¯è² æ“” */
    transform: none !important;
}
